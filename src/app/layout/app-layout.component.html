<div class="layout-wrapper">
  <!-- Sidebar utama -->
  <app-sidebar class="layout-sidebar"></app-sidebar>

  <!-- Main container -->
  <div class="layout-main-container">
    <!-- Header (sembunyikan kalau AI Chat) -->
    <app-header *ngIf="showHeader"></app-header>

    <!-- Konten utama -->
    <main
      class="layout-main"
      [ngClass]="{ 'no-padding': hideBody }">
      <router-outlet></router-outlet>
    </main>
  </div>

  <!-- Bottom Navigation -->
  <app-bottom-nav class="layout-bottom-nav"></app-bottom-nav>

  <!-- Sidebar versi mobile -->
  <p-sidebar
    [visible]="(layoutService.mobileSidebarVisible$ | async)!"
    (visibleChange)="layoutService.toggleMobileSidebar()"
    position="left">

    <ng-template pTemplate="header">
      <div class="sidebar-header">
        <a routerLink="/dashboard" class="logo-wrapper">
          <img src="/logo_pemprov_jatim.png" alt="Logo" class="logo-img" />
          <span class="logo-text">BAPENDA</span>
        </a>
      </div>
    </ng-template>

    <app-sidebar (click)="layoutService.toggleMobileSidebar()"></app-sidebar>
  </p-sidebar>
</div>
